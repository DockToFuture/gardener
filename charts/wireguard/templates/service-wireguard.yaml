apiVersion: v1
kind: Service
metadata:
  name: wireguard-vpn
  namespace: wireguard
  annotations:
    service.beta.kubernetes.io/aws-load-balancer-type: "nlb"
spec:
  ports:
  - name: wireguard-port
    port: {{ .Values.wireguard.externalPort }}
    protocol: UDP
    targetPort: {{ .Values.wireguard.internalPort }}
  selector:
    app: wireguard-vpn
  sessionAffinity: None
  type: LoadBalancer
